\hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue}{\section{core.\+netns.\+vnet.\+Ebtables\+Queue Class Reference}
\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue}\index{core.\+netns.\+vnet.\+Ebtables\+Queue@{core.\+netns.\+vnet.\+Ebtables\+Queue}}
}


Inheritance diagram for core.\+netns.\+vnet.\+Ebtables\+Queue\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=205pt]{classcore_1_1netns_1_1vnet_1_1_ebtables_queue__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for core.\+netns.\+vnet.\+Ebtables\+Queue\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=222pt]{classcore_1_1netns_1_1vnet_1_1_ebtables_queue__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a221fab62e74d2102cd5ef1d98d511878}{\+\_\+\+\_\+init\+\_\+\+\_\+}
\item 
def \hyperlink{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a4438171e6274e0511c2d025531e63547}{startupdateloop}
\item 
def \hyperlink{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a8e11dad3e790c85ac24a0e6f311f741b}{stopupdateloop}
\item 
def \hyperlink{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_ac1566d88eccd1f6bd7ecad8c06f833eb}{ebatomiccmd}
\item 
def \hyperlink{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a54d83d32c237ba6f2ca0d184b118fcdc}{lastupdate}
\item 
def \hyperlink{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_aef7565ab89d78140208d36878f7b7715}{updated}
\item 
def \hyperlink{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a4cbc734b0ee2103986215a237f9f242b}{updateloop}
\item 
def \hyperlink{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a76cf1b09084c646995f7dc4f0edfbc15}{ebcommit}
\item 
def \hyperlink{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a1a62a5ab1242aa4baed3db449b5955b3}{ebchange}
\item 
def \hyperlink{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_af584abfa320df6b0aa2d9d9cb24d2ae0}{buildcmds}
\item 
def \hyperlink{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a389ff0060a5156b5f62f5a3e36d06bea}{eberror}
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a7a502d58221c3cb82cd6c8470defad72}{{\bfseries doupdateloop}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a7a502d58221c3cb82cd6c8470defad72}

\item 
\hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a8f353a4d4ca9329122a663aabc77bd21}{{\bfseries updatethread}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a8f353a4d4ca9329122a663aabc77bd21}

\item 
\hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a618fb78317ec2580ffcca2a1f6f28ad8}{{\bfseries updatelock}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a618fb78317ec2580ffcca2a1f6f28ad8}

\item 
\hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a6484f52f82918d33c06b6a97b858f505}{{\bfseries cmds}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a6484f52f82918d33c06b6a97b858f505}

\item 
\hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_ae67fde6a6cdadaeea281ac71545c0e27}{{\bfseries updates}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_ae67fde6a6cdadaeea281ac71545c0e27}

\item 
\hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a7d038756c37b353ee8a177470c65e533}{{\bfseries last\+\_\+update\+\_\+time}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a7d038756c37b353ee8a177470c65e533}

\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_aa6c1eae9d60522b22eced0b39572cee6}{float {\bfseries rate} = 0.\+3}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_aa6c1eae9d60522b22eced0b39572cee6}

\item 
\hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a26499d06c4507a984264aa2d775aa3a0}{string {\bfseries atomic\+\_\+file} = \char`\"{}/tmp/pycore.\+ebtables.\+atomic\char`\"{}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a26499d06c4507a984264aa2d775aa3a0}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Helper class for queuing up ebtables commands into rate-limited
atomic commits. This improves performance and reliability when there are
many WLAN link updates.
\end{DoxyVerb}
 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a221fab62e74d2102cd5ef1d98d511878}{\index{core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}}
\subsubsection[{\+\_\+\+\_\+init\+\_\+\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}def core.\+netns.\+vnet.\+Ebtables\+Queue.\+\_\+\+\_\+init\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a221fab62e74d2102cd5ef1d98d511878}
\begin{DoxyVerb}Initialize the helper class, but don't start the update thread
until a WLAN is instantiated.
\end{DoxyVerb}
 

\subsection{Member Function Documentation}
\hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_af584abfa320df6b0aa2d9d9cb24d2ae0}{\index{core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}!buildcmds@{buildcmds}}
\index{buildcmds@{buildcmds}!core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}}
\subsubsection[{buildcmds}]{\setlength{\rightskip}{0pt plus 5cm}def core.\+netns.\+vnet.\+Ebtables\+Queue.\+buildcmds (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{wlan}
\end{DoxyParamCaption}
)}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_af584abfa320df6b0aa2d9d9cb24d2ae0}
\begin{DoxyVerb}Inspect a _linked dict from a wlan, and rebuild the ebtables chain
for that WLAN.
\end{DoxyVerb}
 \hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_ac1566d88eccd1f6bd7ecad8c06f833eb}{\index{core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}!ebatomiccmd@{ebatomiccmd}}
\index{ebatomiccmd@{ebatomiccmd}!core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}}
\subsubsection[{ebatomiccmd}]{\setlength{\rightskip}{0pt plus 5cm}def core.\+netns.\+vnet.\+Ebtables\+Queue.\+ebatomiccmd (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{cmd}
\end{DoxyParamCaption}
)}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_ac1566d88eccd1f6bd7ecad8c06f833eb}
\begin{DoxyVerb}Helper for building ebtables atomic file command list.
\end{DoxyVerb}
 \hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a1a62a5ab1242aa4baed3db449b5955b3}{\index{core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}!ebchange@{ebchange}}
\index{ebchange@{ebchange}!core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}}
\subsubsection[{ebchange}]{\setlength{\rightskip}{0pt plus 5cm}def core.\+netns.\+vnet.\+Ebtables\+Queue.\+ebchange (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{wlan}
\end{DoxyParamCaption}
)}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a1a62a5ab1242aa4baed3db449b5955b3}
\begin{DoxyVerb}Flag a change to the given WLAN's _linked dict, so the ebtables
chain will be rebuilt at the next interval.
\end{DoxyVerb}
 \hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a76cf1b09084c646995f7dc4f0edfbc15}{\index{core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}!ebcommit@{ebcommit}}
\index{ebcommit@{ebcommit}!core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}}
\subsubsection[{ebcommit}]{\setlength{\rightskip}{0pt plus 5cm}def core.\+netns.\+vnet.\+Ebtables\+Queue.\+ebcommit (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{wlan}
\end{DoxyParamCaption}
)}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a76cf1b09084c646995f7dc4f0edfbc15}
\begin{DoxyVerb}Perform ebtables atomic commit using commands built in the
self.cmds list.
\end{DoxyVerb}
 \hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a389ff0060a5156b5f62f5a3e36d06bea}{\index{core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}!eberror@{eberror}}
\index{eberror@{eberror}!core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}}
\subsubsection[{eberror}]{\setlength{\rightskip}{0pt plus 5cm}def core.\+netns.\+vnet.\+Ebtables\+Queue.\+eberror (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{wlan, }
\item[{}]{source, }
\item[{}]{error}
\end{DoxyParamCaption}
)}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a389ff0060a5156b5f62f5a3e36d06bea}
\begin{DoxyVerb}Log an ebtables command error and send an exception.
\end{DoxyVerb}
 \hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a54d83d32c237ba6f2ca0d184b118fcdc}{\index{core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}!lastupdate@{lastupdate}}
\index{lastupdate@{lastupdate}!core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}}
\subsubsection[{lastupdate}]{\setlength{\rightskip}{0pt plus 5cm}def core.\+netns.\+vnet.\+Ebtables\+Queue.\+lastupdate (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{wlan}
\end{DoxyParamCaption}
)}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a54d83d32c237ba6f2ca0d184b118fcdc}
\begin{DoxyVerb}Return the time elapsed since this WLAN was last updated.
\end{DoxyVerb}
 \hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a4438171e6274e0511c2d025531e63547}{\index{core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}!startupdateloop@{startupdateloop}}
\index{startupdateloop@{startupdateloop}!core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}}
\subsubsection[{startupdateloop}]{\setlength{\rightskip}{0pt plus 5cm}def core.\+netns.\+vnet.\+Ebtables\+Queue.\+startupdateloop (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{wlan}
\end{DoxyParamCaption}
)}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a4438171e6274e0511c2d025531e63547}
\begin{DoxyVerb}Kick off the update loop; only needs to be invoked once.
\end{DoxyVerb}
 \hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a8e11dad3e790c85ac24a0e6f311f741b}{\index{core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}!stopupdateloop@{stopupdateloop}}
\index{stopupdateloop@{stopupdateloop}!core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}}
\subsubsection[{stopupdateloop}]{\setlength{\rightskip}{0pt plus 5cm}def core.\+netns.\+vnet.\+Ebtables\+Queue.\+stopupdateloop (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{wlan}
\end{DoxyParamCaption}
)}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a8e11dad3e790c85ac24a0e6f311f741b}
\begin{DoxyVerb}Kill the update loop thread if there are no more WLANs using it.
\end{DoxyVerb}
 \hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_aef7565ab89d78140208d36878f7b7715}{\index{core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}!updated@{updated}}
\index{updated@{updated}!core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}}
\subsubsection[{updated}]{\setlength{\rightskip}{0pt plus 5cm}def core.\+netns.\+vnet.\+Ebtables\+Queue.\+updated (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{wlan}
\end{DoxyParamCaption}
)}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_aef7565ab89d78140208d36878f7b7715}
\begin{DoxyVerb}Keep track of when this WLAN was last updated.
\end{DoxyVerb}
 \hypertarget{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a4cbc734b0ee2103986215a237f9f242b}{\index{core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}!updateloop@{updateloop}}
\index{updateloop@{updateloop}!core\+::netns\+::vnet\+::\+Ebtables\+Queue@{core\+::netns\+::vnet\+::\+Ebtables\+Queue}}
\subsubsection[{updateloop}]{\setlength{\rightskip}{0pt plus 5cm}def core.\+netns.\+vnet.\+Ebtables\+Queue.\+updateloop (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classcore_1_1netns_1_1vnet_1_1_ebtables_queue_a4cbc734b0ee2103986215a237f9f242b}
\begin{DoxyVerb}Thread target that looks for WLANs needing update, and
rate limits the amount of ebtables activity. Only one userspace program
should use ebtables at any given time, or results can be unpredictable.
\end{DoxyVerb}
 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
daemon/core/netns/vnet.\+py\end{DoxyCompactItemize}
